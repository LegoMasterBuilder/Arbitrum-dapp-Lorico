{
  "version": 3,
  "sources": ["../../.pnpm/htmlnano@2.1.1_postcss@8.4.38_terser@5.31.1_typescript@5.4.5/node_modules/htmlnano/lib/modules/collapseAttributeWhitespace.mjs"],
  "sourcesContent": ["import { isEventHandler } from '../helpers.mjs';\n\nexport const attributesWithLists = new Set([\n    'class',\n    'dropzone',\n    'rel', // a, area, link\n    'ping', // a, area\n    'sandbox', // iframe\n    /**\n     * https://github.com/posthtml/htmlnano/issues/180\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-sizes\n     *\n     * \"sizes\" of <img> should not be modified, while \"sizes\" of <link> will only have one entry in most cases.\n     */\n    // 'sizes', // link\n    'headers' // td, th\n]);\n\n/** @type Record<string, string[] | null> */\nconst attributesWithSingleValue = {\n    accept: ['input'],\n    action: ['form'],\n    accesskey: null,\n    'accept-charset': ['form'],\n    cite: ['blockquote', 'del', 'ins', 'q'],\n    cols: ['textarea'],\n    colspan: ['td', 'th'],\n    data: ['object'],\n    dropzone: null,\n    formaction: ['button', 'input'],\n    height: ['canvas', 'embed', 'iframe', 'img', 'input', 'object', 'video'],\n    high: ['meter'],\n    href: ['a', 'area', 'base', 'link'],\n    itemid: null,\n    low: ['meter'],\n    manifest: ['html'],\n    max: ['meter', 'progress'],\n    maxlength: ['input', 'textarea'],\n    media: ['source'],\n    min: ['meter'],\n    minlength: ['input', 'textarea'],\n    optimum: ['meter'],\n    ping: ['a', 'area'],\n    poster: ['video'],\n    profile: ['head'],\n    rows: ['textarea'],\n    rowspan: ['td', 'th'],\n    size: ['input', 'select'],\n    span: ['col', 'colgroup'],\n    src: [\n        'audio',\n        'embed',\n        'iframe',\n        'img',\n        'input',\n        'script',\n        'source',\n        'track',\n        'video'\n    ],\n    start: ['ol'],\n    step: ['input'],\n    style: null,\n    tabindex: null,\n    usemap: ['img', 'object'],\n    value: ['li', 'meter', 'progress'],\n    width: ['canvas', 'embed', 'iframe', 'img', 'input', 'object', 'video']\n};\n\n/** Collapse whitespaces inside list-like attributes (e.g. class, rel) */\nexport function onAttrs() {\n    return (attrs, node) => {\n        const newAttrs = attrs;\n\n        Object.entries(attrs).forEach(([attrName, attrValue]) => {\n            if (typeof attrValue !== 'string') return;\n\n            if (attributesWithLists.has(attrName)) {\n                const newAttrValue = attrValue.replace(/\\s+/g, ' ').trim();\n                newAttrs[attrName] = newAttrValue;\n                return;\n            }\n\n            if (\n                isEventHandler(attrName)\n                || (\n                    Object.prototype.hasOwnProperty.call(attributesWithSingleValue, attrName)\n                    && (\n                        attributesWithSingleValue[attrName] === null\n                        || attributesWithSingleValue[attrName].includes(node.tag)\n                    )\n                )\n            ) {\n                newAttrs[attrName] = minifySingleAttributeValue(attrValue);\n            }\n        });\n\n        return newAttrs;\n    };\n}\n\nfunction minifySingleAttributeValue(value) {\n    return typeof value === 'string' ? value.trim() : value;\n}\n"],
  "mappings": ";;;;;AAEO,IAAM,sBAAsB,oBAAI,IAAI;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AACJ,CAAC;AAGD,IAAM,4BAA4B;AAAA,EAC9B,QAAQ,CAAC,OAAO;AAAA,EAChB,QAAQ,CAAC,MAAM;AAAA,EACf,WAAW;AAAA,EACX,kBAAkB,CAAC,MAAM;AAAA,EACzB,MAAM,CAAC,cAAc,OAAO,OAAO,GAAG;AAAA,EACtC,MAAM,CAAC,UAAU;AAAA,EACjB,SAAS,CAAC,MAAM,IAAI;AAAA,EACpB,MAAM,CAAC,QAAQ;AAAA,EACf,UAAU;AAAA,EACV,YAAY,CAAC,UAAU,OAAO;AAAA,EAC9B,QAAQ,CAAC,UAAU,SAAS,UAAU,OAAO,SAAS,UAAU,OAAO;AAAA,EACvE,MAAM,CAAC,OAAO;AAAA,EACd,MAAM,CAAC,KAAK,QAAQ,QAAQ,MAAM;AAAA,EAClC,QAAQ;AAAA,EACR,KAAK,CAAC,OAAO;AAAA,EACb,UAAU,CAAC,MAAM;AAAA,EACjB,KAAK,CAAC,SAAS,UAAU;AAAA,EACzB,WAAW,CAAC,SAAS,UAAU;AAAA,EAC/B,OAAO,CAAC,QAAQ;AAAA,EAChB,KAAK,CAAC,OAAO;AAAA,EACb,WAAW,CAAC,SAAS,UAAU;AAAA,EAC/B,SAAS,CAAC,OAAO;AAAA,EACjB,MAAM,CAAC,KAAK,MAAM;AAAA,EAClB,QAAQ,CAAC,OAAO;AAAA,EAChB,SAAS,CAAC,MAAM;AAAA,EAChB,MAAM,CAAC,UAAU;AAAA,EACjB,SAAS,CAAC,MAAM,IAAI;AAAA,EACpB,MAAM,CAAC,SAAS,QAAQ;AAAA,EACxB,MAAM,CAAC,OAAO,UAAU;AAAA,EACxB,KAAK;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,OAAO,CAAC,IAAI;AAAA,EACZ,MAAM,CAAC,OAAO;AAAA,EACd,OAAO;AAAA,EACP,UAAU;AAAA,EACV,QAAQ,CAAC,OAAO,QAAQ;AAAA,EACxB,OAAO,CAAC,MAAM,SAAS,UAAU;AAAA,EACjC,OAAO,CAAC,UAAU,SAAS,UAAU,OAAO,SAAS,UAAU,OAAO;AAC1E;AAGO,SAAS,UAAU;AACtB,SAAO,CAAC,OAAO,SAAS;AACpB,UAAM,WAAW;AAEjB,WAAO,QAAQ,KAAK,EAAE,QAAQ,CAAC,CAAC,UAAU,SAAS,MAAM;AACrD,UAAI,OAAO,cAAc,SAAU;AAEnC,UAAI,oBAAoB,IAAI,QAAQ,GAAG;AACnC,cAAM,eAAe,UAAU,QAAQ,QAAQ,GAAG,EAAE,KAAK;AACzD,iBAAS,QAAQ,IAAI;AACrB;AAAA,MACJ;AAEA,UACI,eAAe,QAAQ,KAEnB,OAAO,UAAU,eAAe,KAAK,2BAA2B,QAAQ,MAEpE,0BAA0B,QAAQ,MAAM,QACrC,0BAA0B,QAAQ,EAAE,SAAS,KAAK,GAAG,IAGlE;AACE,iBAAS,QAAQ,IAAI,2BAA2B,SAAS;AAAA,MAC7D;AAAA,IACJ,CAAC;AAED,WAAO;AAAA,EACX;AACJ;AAEA,SAAS,2BAA2B,OAAO;AACvC,SAAO,OAAO,UAAU,WAAW,MAAM,KAAK,IAAI;AACtD;",
  "names": []
}
