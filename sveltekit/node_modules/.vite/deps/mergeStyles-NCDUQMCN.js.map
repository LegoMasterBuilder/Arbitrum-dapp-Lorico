{
  "version": 3,
  "sources": ["../../.pnpm/htmlnano@2.1.1_postcss@8.4.38_terser@5.31.1_typescript@5.4.5/node_modules/htmlnano/lib/modules/mergeStyles.mjs"],
  "sourcesContent": ["import { isAmpBoilerplate } from '../helpers.mjs';\n\n/* Merge multiple <style> into one */\nexport default function mergeStyles(tree) {\n    const styleNodes = {};\n\n    tree.match({tag: 'style'}, node => {\n        const nodeAttrs = node.attrs || {};\n        // Skip <style scoped></style>\n        // https://developer.mozilla.org/en/docs/Web/HTML/Element/style\n        //\n        // Also skip SRI, reasons are documented in \"minifyJs\" module\n        if ('scoped' in nodeAttrs || 'integrity' in nodeAttrs) {\n            return node;\n        }\n\n        if (isAmpBoilerplate(node)) {\n            return node;\n        }\n\n        const styleType = nodeAttrs.type || 'text/css';\n        const styleMedia = nodeAttrs.media || 'all';\n        const styleKey = styleType + '_' + styleMedia;\n        if (styleNodes[styleKey]) {\n            const styleContent = (node.content || []).join(' ');\n            styleNodes[styleKey].content.push(' ' + styleContent);\n            return '';\n        }\n\n        node.content = node.content || [];\n        styleNodes[styleKey] = node;\n        return node;\n    });\n\n    return tree;\n}\n"],
  "mappings": ";;;;;;AAGe,SAAR,YAA6B,MAAM;AACtC,QAAM,aAAa,CAAC;AAEpB,OAAK,MAAM,EAAC,KAAK,QAAO,GAAG,UAAQ;AAC/B,UAAM,YAAY,KAAK,SAAS,CAAC;AAKjC,QAAI,YAAY,aAAa,eAAe,WAAW;AACnD,aAAO;AAAA,IACX;AAEA,QAAI,iBAAiB,IAAI,GAAG;AACxB,aAAO;AAAA,IACX;AAEA,UAAM,YAAY,UAAU,QAAQ;AACpC,UAAM,aAAa,UAAU,SAAS;AACtC,UAAM,WAAW,YAAY,MAAM;AACnC,QAAI,WAAW,QAAQ,GAAG;AACtB,YAAM,gBAAgB,KAAK,WAAW,CAAC,GAAG,KAAK,GAAG;AAClD,iBAAW,QAAQ,EAAE,QAAQ,KAAK,MAAM,YAAY;AACpD,aAAO;AAAA,IACX;AAEA,SAAK,UAAU,KAAK,WAAW,CAAC;AAChC,eAAW,QAAQ,IAAI;AACvB,WAAO;AAAA,EACX,CAAC;AAED,SAAO;AACX;",
  "names": []
}
