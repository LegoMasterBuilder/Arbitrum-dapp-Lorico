import {
  isAmpBoilerplate
} from "./chunk-DLA6KCZJ.js";
import "./chunk-P3KJJCU4.js";

// node_modules/.pnpm/htmlnano@2.1.1_postcss@8.4.38_terser@5.31.1_typescript@5.4.5/node_modules/htmlnano/lib/modules/mergeStyles.mjs
function mergeStyles(tree) {
  const styleNodes = {};
  tree.match({ tag: "style" }, (node) => {
    const nodeAttrs = node.attrs || {};
    if ("scoped" in nodeAttrs || "integrity" in nodeAttrs) {
      return node;
    }
    if (isAmpBoilerplate(node)) {
      return node;
    }
    const styleType = nodeAttrs.type || "text/css";
    const styleMedia = nodeAttrs.media || "all";
    const styleKey = styleType + "_" + styleMedia;
    if (styleNodes[styleKey]) {
      const styleContent = (node.content || []).join(" ");
      styleNodes[styleKey].content.push(" " + styleContent);
      return "";
    }
    node.content = node.content || [];
    styleNodes[styleKey] = node;
    return node;
  });
  return tree;
}
export {
  mergeStyles as default
};
//# sourceMappingURL=mergeStyles-NCDUQMCN.js.map
